*仅供内部,侵权必究*
***
# CAT-Home **猫の家系统**
>简要描述：猫の家服务系统旨在减少爱猫人士在购买猫咪以及其用品花费的时间，让社会上需要宠物陪伴的人得到更好的服务。
***
## 摘要
* 随着智能手机及移动互联技术的深入发展，电子商务蓬勃发展，实体购物逐渐衰落，网上购物以及线下消费已逐渐成为人们，尤其是青年人的一种生活方式，这其中针对宠物的产品和服务的消费模式也不例外。在宠物饲养的品种中饲养犬猫的占比高达75%，持续主导宠物食品，用品等消费市场。猫狗数量占比差距实际较小，猫的数量占比略高于狗的数量占比，并且随着猫数量占比的持续上升，养猫产生的相关消费需求将随之增加。本系统的目的是面向线上爱猫人士，让其更方便更快捷的在互联网上购买或出售猫咪以及其相关产品，并为其提供一个安全可靠的交易平台，同时也为爱猫人士提供一个交流互助平台。目前作为一个B/S结构的小型电子商务系统，猫の家系统平台希望能给予爱猫人士更好的使用体验以及更高质量的商品品质。
本文阐述了系统基于Java编程语言，采用Spring Cloud集合(一系列框架的有序集合)来设计实现过程。
  >关键词：猫咪用品商城，MySQL，Spring Cloud，Spring Boot，MyBatis

* With the in-depth development of smart phones and mobile internet technology, online shopping and offline consumption have gradually become a way of life for people, especially young people, including pet products and services. Among the pet breeds, dogs and cats account for up to 75%, and continue to dominate the pet food, supplies and other consumer markets. The gap between the number of cats and dogs is actually small. The number of cats is slightly higher than the number of dogs. And with the continuous increase of the number of cats, the relevant consumption demand generated by keeping cats will increase (source: Asian Pet Research Institute: Blue Book of Pet Industry: 2022 China Pet Industry Development Report). The purpose of this system is to provide offline cat lovers with a more convenient and efficient way to purchase or sell cats and their related products on the Internet, and provide them with a safe and reliable trading platform, as well as a communication and mutual assistance platform for cat lovers. At present, as a small e-commerce system with B/S structure, Cat Home Service System platform hopes to give people who love cats better use experience and higher quality goods.
This article is divided into the following parts to describe the design and implementation process based on the Java programming language and using the Spring Cloud collection (an ordered collection of a series of frameworks).

  >Key Words: Cat Products Mall，MySQL，Spring Cloud，Spring Boot，MyBatis
***
## 第一章 绪论
  >简要：近年来国内越来越多的年轻人都面临着就业环境差，经济积累薄弱，孩子易生不易养是目前的社会普遍现状，所以目前很多年轻人通过饲养宠物的方式来缓解内心的感情。并且目前随着智能手机及移动互联技术的深入发展，网上购物以及线上消费已逐渐成为人们，尤其是青年人的一种生活方式，这其中针对宠物的产品和服务的消费模式也不例外。在饲养的宠物种类中猫狗占比高达75%，持续主导宠物食品，用品等消费市场。猫狗数量占比差距实际较小，猫的数量占比略高于狗的数量占比，并且随着近几年猫数量占比的持续上升，养猫产生的相关消费需求将随之增加。因此，在互联网上提供一个猫咪以及其相关服务平台是有价值，有回报，有发展前途的。本章主要对猫の家服务系统的研究背景、研究意义、国内外研究现状进行阐述，并对论文主要工作以及论文组织架构进行说明。

### 1.1 论文研究主要内容
  猫の家服务系统是通过Spring Cloud微服务框架实现，服务于用户进行发帖社交，猫咪交易，猫咪商品购买，商品评论，订单管理，购物车管理；商户进行商品管理，订单管理；管理员进行用户管理，商户管理，商品审核，帖子审核。使系统使用者获得高质量的服务体验。本课题主要依据数据库表分为用户微服务、商品微服务，管理员微服务，商户微服务，订单微服务，帖子微服务，消息微服务，文件处理微服务。各个微服务拥有各自的端口号，所有的微服务统一在Spring Cloud Eureka注册中心下管理。整合Spring Cloud中的优秀框架，实现猫の家服务系统。最后，对实现的后端API接口进行测试。

### 1.2 研究背景
  随着互联网技术的高速发展以及网络应用的普及和智能产品的使用成本降低，电子商务蓬勃发展，实体购物逐渐衰落，线上消费已经成为了目前主流的购物方式。目前我国线下购物得到了快速发展，从层出不穷的线上购物软件和平台以及到越来越完善快速的快递服务可以明显的看出我国人民群众都普遍的愿意和接受了线上购物这一消费形式。

  国内越来越多的年轻人因为就业环境差，经济积累薄弱，孩子易生不易养是目前社会普遍现状，所以很多年轻人通过饲养宠物的方式来缓解内心的感情。城市与农村中还有很多孤寡老人，孩子外出打工，一年可能才能见面一次，所以也有很多老年人通过饲养宠物的方式来缓解孩子不在带来的孤独。从孩子来讲，在国内，相当一部分的孩子都喜欢饲养宠物，和宠物一起玩耍，以此增加生活乐趣。

  目前市场的主流的一些购物平台，比如拼多多，淘宝，京东等，里面的猫咪商品鱼龙混杂，并且其中不乏一些伪劣产品以及不良商家的存在，所以在网上购买猫咪之后,邮寄猫咪的安全性和猫咪自身的疫苗以及品种猫咪的真实性还有待提高。本系统拟采取针对用户赠送或出售猫咪的信息到平台需要上传对应的猫咪相关品种的证实认证（只针对品种猫）以及猫咪的健康安全认证，在通过平台处理核实后才能上传，以及用户注册成为商家需要提供对应的资格证书，在通过后台审核过后才能发布出售商品或者猫咪等方式为用户提供高质量的服务。
基于以上背景，开发猫の家服务系统不仅可以减少爱猫人士在购买猫咪以及其用品花费的时间，还可以让社会上需要宠物陪伴的人得到更好的服务。

### 1.3 研究意义
  本系统面向线上爱猫人士以及社会中需要宠物陪伴的人，让他们更方便更快捷的在互联网上购买或出售猫咪以及其相关产品，并为其提供一个安全可靠的交易平台，同时也为爱猫人士提供一个交流互助平台。本系统目标人群非常具体，对于爱猫人士来讲，一个专门提供其爱猫的生活用品的系统平台将减少其在寻找商品上花费的时间。同时高品质的商品质量，也能使爱猫人士的使用更加放心。目前社会上主人抛弃宠物的事件层出不穷，尤其是疫情期间病毒大范围流行。病毒的主要传播方式虽然是人传人，但是仍然存在物传人的例子，目前也有许多相关报道证实了这一点。国家政府大力控制人员流动以巨大的经济代价来控制住了整个疫情。部分宠物猫咪的主人由于各种原因不得不将猫咪丢弃或者出售，但其实丢弃猫咪中多数的主人并不是真的想遗弃它们，只不过是因为没有办法，如果这个时候有一个场所能够方便的联系到愿意收养宠物的人，街上的流浪猫将会减少很多，猫咪找到主人的同时也为社会减轻了负担，无论是对疫情还是对社会卫生环境等都有积极的好处，能够减少社会与猫之间的矛盾。通过对猫咪交易更安全的认证方式，使爱猫人士得到更安全可靠的购买体验。对于社会需要宠物陪伴的人来讲，一个更快捷方便的猫咪服务平台，可以让其不用了解太多养猫相关的知识，也可以得到很好的服务，并且可以通过平台中的贴吧发布自己养猫的问题或者养猫时发生的生活趣事。

  本系统的主要功能包括，用户注册，上传商品，购买商品、留言管理、订单管理、购物车管理，帖子管理等。目前作为一个B/S结构的小型电子商务系统，猫の家服务系统平台希望能给予爱猫人士以及社会中需要宠物陪伴的人更好的使用体验以及更高质量的商品品质。

### 1.4 国内外现状分析
* 国内电子商务现状：1998年，阿里巴巴、中国制造网等B2B电子商务企业成立；2003年，淘宝网、京东商城等B2C电子商务平台崛起，中国电子商务开启了快速发展的二十年。电子商务的快速发展在零售端不断驱动消费格局的重建，用户网络购物的消费习惯已逐步形成。近年来，中国电子商务交易规模持续扩大，稳居全球网络零售市场首位。根据国家统计局统计，我国电商交易规模由2016年的26.1万亿元增长至2020年的37.21万亿元，复合年均增长率为8.9%。中商产业研究院预测，2022年我国电子商务交易规模将达42.93万亿元，对推动供给侧结构性改革的作用日益突出。当前，我国电子商务呈现以下几个特点：一是市场规模持续增长、二是产业支撑不断改进、三是服务业电商快速发展、四是线上线下融合步伐加快、五是新业态新模式层出不穷、六是农村电商蒸蒸日上、七是跨境电商如火如荼、八是B2B电商迎来新机遇。数据来源：国家统计局、中商产业研究院整理。

* 国外电子商务现状：1995年，亚马逊和易贝在美国成立。此后，这种以互联网为依托进行商品和服务交易的新兴经济活动，迅速普及全球。新一轮科技革命和产业变革交汇孕育的电子商务，极大提高了经济运行的质量和效率，改变了人类的生产生活方式。2022年，全球电商销售额预计将首次突破5万亿美元，占整体零售总额的1/5，2025年，预计这个数字将突破7万亿美元。疫情为全球经济带去不确定性，但电商市场却在阴差阳错之间迎来高速增长期。在咨询机构和数据调研公司眼中，电商市场前景一派光明。预计到2025年，电商市场将继续保持增长态势，成为世界经济的亮点和新增长点。当前，全球电子商务呈现以下几个特点：一是市场规模不断扩大。二是地区差距逐渐缩小。三是企业并购趋于频繁。四是共享经济异军突起。数据来源：eMarketer。

### 1.5 论文结构
* 第1章:绪论。根据本文的研究内容，阐述课题研究的背景与意义，分析国内外的现状。

* 第2章:关键技术介绍。根据理论学习和本设计的具体应用，简述本设计中应用到的关键技术的内容，包括 Spring Cloud、Spring MVC、Spring 、MyBatis 、MySQL、Java、FastDFS等技术。

* 第3章:系统分析。重点介绍了本设计的系统需求分析、非功能性需求、主要业务流程分析以及系统数据流程分析，进行可行性分析等。

* 第4章:系统设计。分模块详细叙述本系统的设计情况，包括项目的总体架构设计、功能结构设计、数据库设计。

* 第5章:系统实现。阐述系统实现所必须的开发环境与工具、对环境搭建、工程目录进行简单描述，阐述系统主要功能模块的实现过程和方法，以及对部分重要代码和相关界面的展示。

* 第6章:系统测试。阐述测试用例以及所有API接口的测试用例。

* 第7章:结论。阐述本设计的主要创造性工作、意义和作用，总结问题或不足。

***

## 第2章　关键技术介绍
>本章将介绍开发本系统所应用到的主要相关知识和技术，其中包括开发技术相关的Spring Cloud、Spring Boot框架、Spring MVC框架、Spring框架、Tomcat服务器、MyBatis框架、Java程序语言、MySQL数据库、FastDFS。

### 2.1 关键性开发技术的介绍
#### 2.1.1 Spring Cloud
  Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring Cloud并没有重复制造轮子，它只是将各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。

#### 2.1.2 Spring Boot框架
  Spring Boot是由Pivotal团队提供的全新框架，其设计目的是用来简化新Spring应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。通过这种方式，Spring Boot致力于在蓬勃发展的快速应用开发领域(rapid application development)成为领导者。
  
#### 2.1.3 Spring MVC框架
Spring MVC是Spring提供的一个基于MVC设计模式的轻量级WEB开发框架，底层本质上是Servlet 。Spring MVC 旨在解决参数接受、文件上传、表单验证等WEB开发常见的问题。Spring MVC使用简单，并且Spring MVC本身就是Spring基本架构的一个重要组成部分，因此能够与Spring无缝集成，并且支持RESTful风格的URL请求。另外，Spring MVC性能有先天的优越性，减轻了开发者处理复杂问题的负担，并且内部拥有良好的拓展，因此深受广大开发者的青睐。Spring MVC已是当今业界主流的WEB开发框架，最热门的开发技能。

#### 2.1.4 Spring框架
Spring是于2003年兴起的一个轻量级的Java开发框架，是最成功的框架之一，Spring框架最初由 Rod Johnson开发，它主要目的是为了解决企业应用程序开发的复杂性而创建的。该框架是一个轻量级的开源框架，具有很高的凝聚力和吸引力。Spring 以 IOC（Inverse Of Control，控制反转）和 AOP（Aspect Oriented Programming，面向切面编程）为内核。
IOC（Inverse Of Control，控制反转）是一个概念，一种思想，指将传统上由程序代码直接操控的对象的权力交给容器，通过容器来实现对象的装配和管理[10]。Spring提供了IOC，由Spring容器完成对象的创建、属性赋值，Spring容器统一管理对象以及对象之间的依赖关系。使用IOC可以降低业务对象之间的耦合度。
AOP（Aspect Oriented Programming，面向切面编程）是Spring框架的一个重要内容，面向切面编程就是将交叉业务逻辑（日志、事务、权限等）封装成切面，利用Spring容器的功能将切面织入主业务逻辑中，从而减少程序的重复代码，降低模块间的耦合度，并有利于系统的可维护性，同时也提高了开发的效率。
Spring轻量、开源，并且Spring不排斥各种优秀的开源框架，相反，Spring可以降低各种框架的使用难度，Spring提供了对各种优秀框架（Struts2、Hibernate、MyBatis等）的直接技术支持。

#### 2.1.5 Tomcat服务器
Tomcat是由Apache软件基金会（Apache Software Foundation）属下Jakarta项目开发的一个Servlet容器，按照Sun Microsystems 提供的技术规范，实现了对Servlet和JSP规范的支持。由于Tomcat本身内含了一个HTTP服务器，因此Tomcat服务器可以被当作一个WEB服务器进行使用。Tomcat服务器因为技术先进、性能稳定、轻量、免费开放源代码等优点，深受广大软件开发者的喜爱，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试JSP 程序的首选[9]。因此Tomcat服务器成为了当下比较流行的WEB服务器。

#### 2.1.6 MyBatis框架
MyBatis 本是 Apache 的一个开源项目——iBatis，2010 年这个项目由 Apache Software Foundation 迁移到了 Google Code，并且改名为 MyBatis，2013年又迁移到了GitHub。MyBatis 是一个优秀的基于Java的持久层框架，内部封装了JDBC，开发者只需要关注SQL本身，而不需要处理加载驱动、创建连接、创建Statement、关闭连接、释放资源等繁杂的过程。MyBatis 通过XML或注解两种方式将要执行的各种SQL语句配置起来，并通过Java对象和SQL的动态参数进行映射，生成最终执行的SQL语句，最后由 MyBatis 框架执行SQL，并将结果映射为Java对象并返回。MyBatis 具有轻量、开源、简单易学、灵活、解除SQL与程序代码的耦合、支持自定义 SQL以及高级映射等特点，深受软件开发者的青睐。

#### 2.1.7 Java程序语言
Java是由Sun Microsystems 在 1995 年 5 月发布的编程语言和计算平台，由 James Gosling和他的团队共同研发。2009年，Sun Microsystems 公司被 Oracle （甲骨文）公司所收购，Java 也随之成为 Oracle 公司的产品，由 Oracle 公司负责 Java 的维护和版本升级。Java是一门面向对象的编程语言，极好的实现了面向对象理论，功能不仅强大且简单易用[8]。作为一门编程语言，Java 不同于其它的编译型语言和解释型语言，它首先将源码编译为字节码，再依赖各种不同平台上的虚拟机来解释执行字节码，从而具有“一次编写，到处运行”的跨平台特性。Java 具有简单性、面向对象、多线程、分布式、安全性、健壮性、与系统无关、可移植性、高性能等特点，被广泛应用于桌面 GUI 应用程序、移动应用程序、WEB应用程序、分布式系统、嵌入式系统、大数据技术、软件工具开发、游戏开发等场景。

#### 2.1.8 MySQL数据库
MySQL是一个开源的关系数据管理系统，由瑞典MySQL AB公司开发。2008年，Sun Microsystems收购MySQL AB公司，2009年，Oracle （甲骨文）公司收购Sun公司，随之MySQL成为Oracle旗下的产品，目前由Oracle公司负责维护和更新MySQL数据库。MySQL数据库作为RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一，其安装简单、性能高、体积小、成本低、具有良好的运行效率、免费开源且主流的操作系统都能够支持MySQL，因此被广泛应用于中小型网站。随着MySQL功能不断的完善、性能不断的提高，MySQL不断成熟，它逐渐应用于更多大规模的网站和应用中，比如：Google、Facebook、Verizon、JD.com、IBM等网站。其已经成为了全球最受欢迎的开源数据库。

### 2.2 其它相关技术
#### 2.2.1 FastDFS
FastDFS是一个开源的轻量级分布式文件系统。它解决了大数据量存储和负载均衡等问题。特别适合以中小文件（建议范围：4KB < file_size <500MB）为载体的在线服务，如相册网站、视频网站等等。在UC基于FastDFS开发向用户提供了：网盘，社区，广告和应用下载等业务的存储服务。
FastDFS是一款开源的轻量级分布式文件系统纯C实现，支持Linux、FreeBSD等UNIX系统类google FS，不是通用的文件系统，只能通过专有API访问，目前提供了C、Java和PHP API为互联网应用量身定做，解决大容量文件存储问题，追求高性能和高扩展性FastDFS可以看做是基于文件的key value pair存储系统，称作分布式文件存储服务更为合适。

***

## 第3章　系统分析
>系统分析是指为了发挥系统的功能，实现系统的目标，运用科学的方法对系统加以周详的考察、分析、比较、试验，并在此基础上拟订一套有效的处理步骤和程序，或对原有的系统提出改正方案的过程。因此，系统分析是一种科学决策的方法。本文依据互联网数据，对猫の家服务系统提出了完整、清晰、具体的要求。本章节将从系统需求分析、功能性需求、非功能性需求、主要业务流程、数据流及可行性进行多方面的剖析，并使用StarUML进行用例分析、使用Visio对主要业务流程和数据流进行详细研究。

### 3.1 系统需求分析
需求分析也称为软件需求分析、系统需求分析或需求分析工程等，是开发人员经过深入细致的调研和分析，准确理解用户和项目的功能、性能、可靠性等具体要求，将用户非形式的需求表述转化为完整的需求定义，从而确定系统必须做什么的过程。需求分析是软件开发中的一个关键过程。通过对系统的需求分析，不仅清楚了本系统应该具备什么功能，也确立了系统的主要用户群体以及其所需要的相关功能。

#### 3.1.1 系统需求分析概述
本课题是一个基于Spring Cloud集合框架下的猫咪服务系统，本系统的主要面向用户为爱猫人士，以及孤独需要陪伴的社会人士。本系统旨在为爱猫人士们提供高品质的商品质量，以及健康可爱的猫咪，实现既让猫咪得到主人的怜爱，也让爱猫人士们不再担心购买到健康存在问题的猫咪以及品质低下的猫咪商品。同时系统提供发帖交流的功能，广大的用户可以在这里发贴帮助流浪猫或者分享养猫心得以及养猫咪发生的趣事。这样一方面可以减少社会上流浪猫的数量，减低人与流浪猫的矛盾，另一方面通过分享的猫咪可爱的生活瞬间也可以让更多的人们爱上猫咪。

#### 3.1.2 模块需求描述
猫の家服务系统主要由以下模块组成：用户模块，管理员模块，商户模块，帖子模块，商品模块，订单模块，文件模块，消息模块。其中用户模块，管理员模块，商户模块组成了系统的主体模块，其它模块作为这三个模块的共通模块，各个模块之间相互调用，在本系统Spring Cloud技术下模块具体体现为微服务。
* 用户模块将实现系统用户群体注册账号，账号管理，发布商品，购买商品，发布帖子，回复帖子，评价交易等业务，其中发布与购买商品是主要业务，也是系统的主要业务，实现这个业务需要用户模块，商品模块，消息模块等互相配合实现。用户发布商品可以为活体猫咪，也可以是猫咪商品或者猫咪工具等，在上传成功后需要管理员审核，其中认证要求和商品类型挂钩，活体猫咪的认证要求将高于普通商品，待认证商品通过认证后则可以上架商品。用户购买商品，通过在线支付，支付的钱款将存于系统提供的第三方安全平台中，卖方通过订单模块，发货并且实时共享商品物流状态，用户确认收货后完成此次购买， 用户可以根据自己的意愿选择是否对此次购物进行评价。用户注册业务需要通过邮箱验证认证，在输入正确的验证码后才能完成注册。发帖与回复贴子需要与帖子模块相配合，其中发帖支持发布图片与文件模块相配合，更好的实现用户分享猫咪趣事的方法。
* 管理员模块将实现后台管理员注册账号，账员管理，发布商品，管理商品，审核未认证商品，审核未认证商户，新增猫咪种类，管理猫咪种类，新增猫咪商品种类，管理猫咪商品种类，处理用户反遗，审核未认证贴子，普通管理员管理等业务，其中主要业务是审核相关业务。管理员注册账号通过邮箱验证，通过验证后才能注册。管理员审核未认证商户，处理结果分为认证通过或者认证未通过，认证未通过需要向商户提供驳回理由,同样对于商品的认证也类似。管理员分为普通管理员与超级管理员，通过权限表区别,超级管理员拥有管理普通管理员业务，以及系统初期化时创建权限表。





