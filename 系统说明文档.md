*仅供内部,侵权必究*
***
# CAT-Home **猫の家系统**
>猫の家系统旨在为广大爱猫人士和需要宠物陪伴的人提供一个方便快捷的购买和出售猫咪及其相关产品的安全可靠交易平台，以及一个养猫交流互助平台。
***
## 摘要
* 随着智能手机及移动互联技术的深入发展，电子商务蓬勃发展，实体购物逐渐衰落，网上购物以及线下消费已逐渐成为人们，尤其是青年人的一种生活方式，这其中针对宠物的产品和服务的消费模式也不例外。在宠物饲养的品种中饲养犬猫的占比高达75%，持续主导宠物食品，用品等消费市场。猫狗数量占比差距实际较小，猫的数量占比略高于狗的数量占比，并且随着猫数量占比的持续上升，养猫产生的相关消费需求将随之增加。本系统的目的是面向线上爱猫人士，让其更方便更快捷的在互联网上购买或出售猫咪以及其相关产品，并为其提供一个安全可靠的交易平台，同时也为爱猫人士提供一个交流互助平台。目前作为一个B/S结构的小型电子商务系统，猫の家系统平台希望能给予爱猫人士更好的使用体验以及更高质量的商品品质。

* 本文阐述了系统基于Java编程语言，采用Spring Cloud集合(一系列框架的有序集合)来设计实现过程。
  >关键词：猫咪用品商城，MySQL，Spring Cloud，Spring Boot，MyBatis

* With the deepening development of smartphones and mobile internet technology, e-commerce has flourished, while physical shopping has gradually declined. Online shopping and offline consumption have gradually become a way of life for people, especially young people. Among them, the consumption mode for pet products and services is no exception. Among pet breeds, raising dogs and cats accounts for up to 75%, continuously leading the consumer market for pet food, supplies, and other products. The difference in the proportion of cats and dogs is actually small. The proportion of cats is slightly higher than that of dogs, and as the proportion of cats continues to increase, the related consumption demand generated by cat ownership will also increase. The purpose of this system is to cater to online cat lovers, making it more convenient and efficient for them to purchase or sell cats and their related products on the internet, and providing them with a safe and reliable trading platform. At the same time, it also provides a communication and mutual assistance platform for cat lovers. Currently, as a small e-commerce system with a B/S structure, the Cat Home system platform hopes to provide cat lovers with a better user experience and higher quality product quality.

* This article elaborates on the design and implementation process of the system based on the Java programming language, using the Spring Cloud collection (an ordered collection of a series of frameworks).
  >Key Words: Cat Products Mall，MySQL，Spring Cloud，Spring Boot，MyBatis
***
## 第一章 绪论
  >近年来，国内越来越多的年轻人面临着就业环境恶劣、经济压力大、孩子教育成本高等问题，因此很多人通过饲养宠物来缓解内心的情感需求。同时，随着智能手机和移动互联技术的发展，网上购物已经成为了现代生活中不可或缺的一部分，而针对宠物的产品和服务也成为了消费市场中的重要组成部分。其中，猫和狗是最受欢迎的宠物类型，占据了宠物食品和用品市场的75%以上。虽然猫和狗的数量相差不大，但随着近几年猫的数量比例持续增加，养猫相关产品和服务的需求也在逐渐增加。因此，在互联网上建立一个以猫咪为主题的平台，提供养猫相关商品和服务，将具有重要的商业价值、发展前景和社会意义。本章将介绍猫の家系统的研究背景、研究意义、国内外研究现状，并说明论文的主要工作和组织结构。

### 1.1 研究主要内容
  猫の家系统基于Spring Cloud微服务框架开发，致力于为用户提供发帖社交、猫咪交易、猫咪商品购买、商品评论、订单管理以及购物车管理等丰富功能，同时商户可以便捷地进行商品和订单管理。管理员可以对用户、商户、商品审核以及帖子审核等方面进行管理。我们保证使用者可以获得高质量的服务体验。<br>
  
  本系统采用了分布式架构，具有稳定性和可扩展性的优势。根据数据库表的不同，我们将系统划分为用户微服务、商品微服务、管理员微服务、商户微服务、订单微服务、帖子微服务、消息微服务以及文件处理微服务。每个微服务都拥有各自的端口号，并在Spring Cloud Eureka注册中心下进行统一管理。<br>

  本系统整合了Spring Cloud中的多项优秀框架，实现了猫の家系统的各项功能。最后，我们对实现的后端API接口进行的测试，以确保系统的稳定性和安全性。

### 1.2 研究背景
  随着互联网技术的高速发展以及网络应用的普及和智能产品的使用成本降低，电子商务蓬勃发展，实体购物逐渐衰落，线上消费已经成为了目前主流的购物方式。在中国，线下购物得到了快速发展，从层出不穷的线上购物软件和平台以及到越来越完善快速的快递服务可以明显的看出我国人民群众都普遍接受了线上购物这一消费形式。
 
  同时，由于就业环境差、经济积累薄弱以及孩子易生不易养成为了目前社会普遍现状，许多年轻人选择通过饲养宠物缓解内心情绪[1]。而在城市和农村中，仍有很多孤寡老人，孩子外出打工，一年可能才能见面一次，所以也有很多老年人通过饲养宠物的方式来缓解孤独。此外，在中国，相当大一部分的孩子都喜欢饲养宠物，与宠物一起玩耍，以此增加生活乐趣。
目前市场上存在许多购物平台，如拼多多、淘宝和京东等，其中的猫咪商品鱼龙混杂，并且存在不少伪劣产品以及不良商家。因此，在通过网络购买猫咪之后，邮寄猫咪的安全性和真实品种的确实性成为了需要提高的问题。

  针对这些问题，开发猫の家系统，以优化用户养猫体验。该系统要求用户上传对应的猫咪相关品种证实认证（只针对品种猫）以及猫咪的健康安全认证，经过平台处理核实后才能上传。同时，若想注册成为商家，则需提供对应的资格证书，经过后台审核后才能发布出售商品或者猫咪，以此为用户提供高质量的服务。

  总之，猫の家系统的目标就是通过提供更好的服务，帮助爱猫人士购买到更好的猫咪，让需要猫咪陪伴的人得到更好的帮助。
  
### 1.3 研究意义
  猫の家系统旨在为广大爱猫人士和需要宠物陪伴的人提供一个方便快捷的购买和出售猫咪及其相关产品的安全可靠交易平台，以及一个养猫交流互助平台。
  
  对于爱猫人士而言，他们通常会花费大量时间去寻找适合自己猫咪的生活用品，而猫の家系统将专门为其提供各种生活用品，从中精选高品质的商品，让用户可以省去繁琐的搜索步骤，并保证所购买的商品具有较高的品质和安全性。此外，在疫情期间，许多主人不得不放弃或出售猫咪，如果有一个方便联系到愿意收养宠物的人的场所，街上流浪猫将会减少很多，无论是对疫情还是对社会卫生环境等都有积极影响。
  
  同时，针对猫咪交易中存在的安全隐患，猫の家系统通过更安全可靠的认证方式，使爱猫人士获得更好的购买体验。对于需要宠物陪伴的人而言，他们可以通过该系统得到更方便快捷的服务，无需了解太多养猫相关的知识，也能获得高品质商品和优质服务，并可以在贴吧中发布自己养猫的问题和生活趣事，与其他养猫人士交流互动[7]。
  
  猫の家系统的主要功能包括用户注册、上传商品、购买商品、留言管理、订单管理和购物车管理等。作为一个B/S结构的小型电子商务系统，猫の家系统致力于提供更好的用户体验和商品品质，旨在成为广大爱猫人士和需要宠物陪伴的人的首选购买平台。
  
### 1.4 国内外现状分析
* 国内电子商务现状：1998年，阿里巴巴、中国制造网等B2B电子商务企业成立；2003年，淘宝网、京东商城等B2C电子商务平台崛起，中国电子商务开启了快速发展的二十年。电子商务的快速发展在零售端不断驱动消费格局的重建，用户网络购物的消费习惯已逐步形成。近年来，中国电子商务交易规模持续扩大，稳居全球网络零售市场首位。根据国家统计局统计，我国电商交易规模由2016年的26.1万亿元增长至2020年的37.21万亿元，复合年均增长率为8.9%。中商产业研究院预测，2022年我国电子商务交易规模将达42.93万亿元，对推动供给侧结构性改革的作用日益突出。当前，我国电子商务呈现以下几个特点：一是市场规模持续增长、二是产业支撑不断改进、三是服务业电商快速发展、四是线上线下融合步伐加快、五是新业态新模式层出不穷、六是农村电商蒸蒸日上、七是跨境电商如火如荼、八是B2B电商迎来新机遇。数据来源：国家统计局、中商产业研究院整理。

* 国外电子商务现状：1995年，亚马逊和易贝在美国成立。此后，这种以互联网为依托进行商品和服务交易的新兴经济活动，迅速普及全球。新一轮科技革命和产业变革交汇孕育的电子商务，极大提高了经济运行的质量和效率，改变了人类的生产生活方式。2022年，全球电商销售额预计将首次突破5万亿美元，占整体零售总额的1/5，2025年，预计这个数字将突破7万亿美元。疫情为全球经济带去不确定性，但电商市场却在阴差阳错之间迎来高速增长期。在咨询机构和数据调研公司眼中，电商市场前景一派光明。预计到2025年，电商市场将继续保持增长态势，成为世界经济的亮点和新增长点。当前，全球电子商务呈现以下几个特点：一是市场规模不断扩大。二是地区差距逐渐缩小。三是企业并购趋于频繁。四是共享经济异军突起。数据来源：eMarketer。

### 1.5 论文结构
* 第1章:绪论。根据本文的研究内容，阐述课题研究的背景与意义，分析国内外的现状。

* 第2章:关键技术介绍。根据理论学习和本设计的具体应用，简述本设计中应用到的关键技术的内容，包括 Spring Cloud、Spring MVC、Spring 、MyBatis 、MySQL、Java、FastDFS等技术。

* 第3章:系统分析。重点介绍了本设计的系统需求分析、非功能性需求、主要业务流程分析以及系统数据流程分析，进行可行性分析等。

* 第4章:系统设计。分模块详细叙述本系统的设计情况，包括项目的总体架构设计、功能结构设计、数据库设计。
***

## 第二章　关键技术介绍
>本章将介绍开发本系统所应用到的主要相关知识和技术，其中包括开发技术相关的Spring Cloud、Spring Boot框架、Spring MVC框架、Spring框架、Tomcat服务器、MyBatis框架、Java程序语言、MySQL数据库、FastDFS。

### 2.1 关键性开发技术的介绍
#### 2.1.1 Spring Cloud
  Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring Cloud并没有重复制造轮子，它只是将各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。

#### 2.1.2 Spring Boot框架
  Spring Boot是由Pivotal团队提供的全新框架，其设计目的是用来简化新Spring应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。通过这种方式，Spring Boot致力于在蓬勃发展的快速应用开发领域(rapid application development)成为领导者。
  
#### 2.1.3 Spring MVC框架
Spring MVC是Spring提供的一个基于MVC设计模式的轻量级WEB开发框架，底层本质上是Servlet 。Spring MVC 旨在解决参数接受、文件上传、表单验证等WEB开发常见的问题。Spring MVC使用简单，并且Spring MVC本身就是Spring基本架构的一个重要组成部分，因此能够与Spring无缝集成，并且支持RESTful风格的URL请求。另外，Spring MVC性能有先天的优越性，减轻了开发者处理复杂问题的负担，并且内部拥有良好的拓展，因此深受广大开发者的青睐。Spring MVC已是当今业界主流的WEB开发框架，最热门的开发技能。

#### 2.1.4 Spring框架
Spring是于2003年兴起的一个轻量级的Java开发框架，是最成功的框架之一，Spring框架最初由 Rod Johnson开发，它主要目的是为了解决企业应用程序开发的复杂性而创建的。该框架是一个轻量级的开源框架，具有很高的凝聚力和吸引力。Spring 以 IOC（Inverse Of Control，控制反转）和 AOP（Aspect Oriented Programming，面向切面编程）为内核。
IOC（Inverse Of Control，控制反转）是一个概念，一种思想，指将传统上由程序代码直接操控的对象的权力交给容器，通过容器来实现对象的装配和管理[10]。Spring提供了IOC，由Spring容器完成对象的创建、属性赋值，Spring容器统一管理对象以及对象之间的依赖关系。使用IOC可以降低业务对象之间的耦合度。
AOP（Aspect Oriented Programming，面向切面编程）是Spring框架的一个重要内容，面向切面编程就是将交叉业务逻辑（日志、事务、权限等）封装成切面，利用Spring容器的功能将切面织入主业务逻辑中，从而减少程序的重复代码，降低模块间的耦合度，并有利于系统的可维护性，同时也提高了开发的效率。
Spring轻量、开源，并且Spring不排斥各种优秀的开源框架，相反，Spring可以降低各种框架的使用难度，Spring提供了对各种优秀框架（Struts2、Hibernate、MyBatis等）的直接技术支持。

#### 2.1.5 Tomcat服务器
Tomcat是由Apache软件基金会（Apache Software Foundation）属下Jakarta项目开发的一个Servlet容器，按照Sun Microsystems 提供的技术规范，实现了对Servlet和JSP规范的支持。由于Tomcat本身内含了一个HTTP服务器，因此Tomcat服务器可以被当作一个WEB服务器进行使用。Tomcat服务器因为技术先进、性能稳定、轻量、免费开放源代码等优点，深受广大软件开发者的喜爱，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试JSP 程序的首选[9]。因此Tomcat服务器成为了当下比较流行的WEB服务器。

#### 2.1.6 MyBatis框架
MyBatis 本是 Apache 的一个开源项目——iBatis，2010 年这个项目由 Apache Software Foundation 迁移到了 Google Code，并且改名为 MyBatis，2013年又迁移到了GitHub。MyBatis 是一个优秀的基于Java的持久层框架，内部封装了JDBC，开发者只需要关注SQL本身，而不需要处理加载驱动、创建连接、创建Statement、关闭连接、释放资源等繁杂的过程。MyBatis 通过XML或注解两种方式将要执行的各种SQL语句配置起来，并通过Java对象和SQL的动态参数进行映射，生成最终执行的SQL语句，最后由 MyBatis 框架执行SQL，并将结果映射为Java对象并返回。MyBatis 具有轻量、开源、简单易学、灵活、解除SQL与程序代码的耦合、支持自定义 SQL以及高级映射等特点，深受软件开发者的青睐。

#### 2.1.7 Java程序语言
Java是由Sun Microsystems 在 1995 年 5 月发布的编程语言和计算平台，由 James Gosling和他的团队共同研发。2009年，Sun Microsystems 公司被 Oracle （甲骨文）公司所收购，Java 也随之成为 Oracle 公司的产品，由 Oracle 公司负责 Java 的维护和版本升级。Java是一门面向对象的编程语言，极好的实现了面向对象理论，功能不仅强大且简单易用[8]。作为一门编程语言，Java 不同于其它的编译型语言和解释型语言，它首先将源码编译为字节码，再依赖各种不同平台上的虚拟机来解释执行字节码，从而具有“一次编写，到处运行”的跨平台特性。Java 具有简单性、面向对象、多线程、分布式、安全性、健壮性、与系统无关、可移植性、高性能等特点，被广泛应用于桌面 GUI 应用程序、移动应用程序、WEB应用程序、分布式系统、嵌入式系统、大数据技术、软件工具开发、游戏开发等场景。

#### 2.1.8 MySQL数据库
MySQL是一个开源的关系数据管理系统，由瑞典MySQL AB公司开发。2008年，Sun Microsystems收购MySQL AB公司，2009年，Oracle （甲骨文）公司收购Sun公司，随之MySQL成为Oracle旗下的产品，目前由Oracle公司负责维护和更新MySQL数据库。MySQL数据库作为RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一，其安装简单、性能高、体积小、成本低、具有良好的运行效率、免费开源且主流的操作系统都能够支持MySQL，因此被广泛应用于中小型网站。随着MySQL功能不断的完善、性能不断的提高，MySQL不断成熟，它逐渐应用于更多大规模的网站和应用中，比如：Google、Facebook、Verizon、JD.com、IBM等网站。其已经成为了全球最受欢迎的开源数据库。

### 2.2 其它相关技术
#### 2.2.1 FastDFS
FastDFS是一个开源的轻量级分布式文件系统。它解决了大数据量存储和负载均衡等问题。特别适合以中小文件（建议范围：4KB < file_size <500MB）为载体的在线服务，如相册网站、视频网站等等。在UC基于FastDFS开发向用户提供了：网盘，社区，广告和应用下载等业务的存储服务。
FastDFS是一款开源的轻量级分布式文件系统纯C实现，支持Linux、FreeBSD等UNIX系统类google FS，不是通用的文件系统，只能通过专有API访问，目前提供了C、Java和PHP API为互联网应用量身定做，解决大容量文件存储问题，追求高性能和高扩展性FastDFS可以看做是基于文件的key value pair存储系统，称作分布式文件存储服务更为合适。

***

## 第三章　系统分析
>系统分析是一种科学决策的方法，它旨在通过科学的方法对系统进行周详的考察、分析、比较和试验，以实现系统的功能和目标。本文基于互联网数据，提出了猫之家系统的完整、清晰和具体要求。在本章节中，我们将从多个角度对系统需求分析、功能性需求、非功能性需求、主要业务流程、数据流和可行性进行详细剖析，并使用StarUML进行用例分析，使用Visio对主要业务流程和数据流程进行详细研究。

### 3.1 系统需求分析
需求分析，也被称为软件需求分析、系统需求分析或需求分析工程等，是软件开发中的一个关键过程。它通过深入细致的调研和分析，准确理解用户和项目的功能、性能、可靠性等具体要求，并将用户非形式的需求表述转化为完整的需求定义，从而确定系统必须实现什么功能。通过需求分析，不仅可以明确系统应该具备哪些功能，还可以确立系统的主要用户群体以及其所需要的相关功能。

#### 3.1.1 系统需求分析概述
本课题是一个基于Spring Cloud集合框架下的猫咪服务系统。该系统主要面向爱猫人士和需要陪伴的社会人士。其核心目标是为用户提供高品质的商品和健康可爱的猫咪，以实现既让猫咪得到主人的怜爱，也让爱猫人士们不再担心购买到健康存在问题的猫咪以及品质低下的猫咪商品。同时，系统还提供了发帖交流的功能，广大的用户可以在这里发贴帮助流浪猫或者分享养猫心得以及养猫咪发生的趣事。这样一方面可以减少社会上流浪猫的数量，降低人与流浪猫的矛盾，另一方面通过分享的猫咪可爱的瞬间也可以让更多的人们爱上猫咪。

#### 3.1.2 模块需求描述
猫の家系统由多个模块组成，主要包括用户模块、管理员模块、商户模块、帖子模块、商品模块、订单模块、文件模块、邮件模块和消息模块。其中，用户模块、管理员模块和商户模块是系统的主体模块，而其它模块则作为这三个模块的共同模块，在系统中以独立的微服务形式存在，并相互调用。

具体来说，用户模块实现了用户注册账号、账号管理、发布商品、购买商品、商品管理（用户发布的商品）、订单管理、发帖回复、评价交易、收藏管理等业务。其中购买商品是系统的主要业务，需要与商品模块和消息模块等协作实现。用户发布商品可以为活体猫咪、猫咪商品或猫咪工具等，在上传商品成功后需要管理员审核，认证要求和商品类型挂钩，活体猫咪的认证要求将高于普通商品，待认证商品通过认证后则可以上架商品。用户购买商品，通过在线支付，支付的钱款将存于系统提供的第三方安全平台中，卖方通过订单模块，发货并且实时共享商品物流状态，用户确认收货后完成此次购买。用户可以根据自己的意愿选择是否对此次购物进行评价。用户注册业务需要通过邮箱验证认证，在输入正确的验证码后完成注册。发帖与回贴需要与帖子模块相配合，其中发帖支持发布图片与文字相结合，此功能与文件模块相配合，更好的实现用户分享猫咪趣事的方法。

管理员模块将实现后台管理员注册账号、账号管理、商品管理、订单管理、审核未认证商品/商户/贴子、新增猫咪种类、管理猫咪种类、新增猫咪商品种类、管理猫咪商品种类、处理用户反馈、普通管理员管理、广告管理、公告管理等业务。其中主要业务是审核相关业务。管理员审核未认证商户，处理结果分为认证通过或者认证未通过，认证未通过需要向商户提供驳回理由，同样对于商品和帖子的认证也类似。管理员分为普通管理员与超级管理员，通过权限表区别，超级管理员拥有管理普通管理员业务，以及系统初期化时创建权限表。

商户模块将实现商户注册账号、发布商品、商品管理（商户发布的商品）、订单管理等业务。其中发布商品是商户模块的主要业务，商户的注册需要实名认证以及对商户的资产进行评估，以及需要提交合法的开店证明。

其他模块主要是作为以上三个模块的共通模块以供调用。

#### 3.1.3 模块需求描述
根据猫の家系统模块需求描述，该系统的系统角色可以分为三类。第一类是系统用户，包括爱猫人士和需要宠物陪伴的社会人士，他们可进行登录、发布商品、搜索商品、购买商品、收藏商品、管理购物车、编辑个人资料、发布帖子等功能操作。第二类是系统商品发布者，即商户，他们主要进行发布商品、订单管理等功能操作。第三类是系统工作人员，即系统管理员，他们负责平台的正常运行，需更换公告、审核用户或商户上传的物品、添加、更改或删除商品种类以及对平台广告相关管理操作等。这三类角色属于系统功能的使用者和维护者。
系统用户用例图如图3.1所示:
 https://github.com/MrPuDaDa/CAT-Home-v2.0/blob/img/%E7%94%A8%E6%88%B7%E7%94%A8%E4%BE%8B%E5%9B%BE.jpg
图3.1 系统用户用例图







